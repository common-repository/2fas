!function(e){try{var o=e(".twofas-qr-modal"),t=e(".twofas-plan-modal"),a=e(".twofas-deletion-confirmation-modal"),n=e(".twofas-delete-totp-modal"),i=e(".twofas-logout-modal"),s=e(".twofas-downgrade-modal"),l=e(".twofas-wizard-modal"),d=e(".twofas-reload-warning-modal"),c=e(".twofas-credit-card-modal"),f=e(".twofas-error-modal"),r=e(".twofas-success-modal"),u=e(".twofas-remove-config-modal"),m=e(".twofas-disable-totp-modal"),p=e(".twofas-disable-phone-modal"),w=e(".twofas-migrate-users-confirmation-modal"),h=e(".js-close-modal"),v=e(".js-open-qr-modal"),b=e(".js-open-plan-modal"),j=e(".js-plan-redirect"),g=e(".js-confirm"),D=e(".js-close-cc-complete"),y=e(".js-open-logout-modal"),k=e(".js-open-reload-warning-modal"),C=e(".js-open-downgrade-modal"),q=e(".js-open-credit-card-modal"),x=e(".js-open-deletion-confirmation-modal"),z=e(".js-open-delete-totp-modal"),E=e(".js-open-remove-config-modal"),Q=e(".js-open-disable-totp-modal"),S=e(".js-open-disable-phone-modal"),A=e(".js-open-migrate-users-modal"),B=".twofas-modal-backdrop",F=!1,G=null;function H(o){o.css({display:"table"}).animate({opacity:1},500),F=!0}function I(o){o.animate({opacity:0},250,function(){e(this).css({display:""}),o.children().css({display:""}),F=!1})}function J(o){if(F){var t=e(".twofas-modal");if(!t.is(o.target)&&0===t.has(o.target).length)I(t.parents().find(B))}}v.click(function(){H(o)}),b.click(function(){e(".twofas-update-card-before").removeClass("twofas-hidden"),e(".twofas-update-card-after").addClass("twofas-hidden"),H(t)}),j.click(function(){e(".twofas-update-card-before").addClass("twofas-hidden"),e(".twofas-update-card-after").removeClass("twofas-hidden")}),E.click(function(o){o.preventDefault(),H(u)}),D.click(function(o){o.preventDefault(),location.reload()}),g.click(function(o){o.preventDefault(),G.trigger("submit")}),Q.submit(function(o){F||(G=e(this),o.preventDefault(),H(m))}),S.submit(function(o){F||(G=e(this),o.preventDefault(),H(p))}),x.submit(function(o){F||(G=e(this),o.preventDefault(),H(a))}),z.submit(function(o){F||(G=e(this),o.preventDefault(),H(n))}),y.submit(function(o){F||(G=e(this),o.preventDefault(),H(i))}),k.submit(function(o){o.preventDefault(),H(d)}),d.on("close",function(){I(d)}),A.click(function(o){o.preventDefault(),H(w)}),w.on("close",function(){I(w)}),f.on("display",function(){H(f)}),r.on("display",function(){H(r)}),l.length&&H(l),C.submit(function(o){F||(G=e(this),o.preventDefault(),H(s))}),q.submit(function(o){o.preventDefault(),H(c)}),h.click(function(o){o.preventDefault(),I(e(this).parents().find(B))}),e(document).keyup(function(o){27===o.keyCode&&J(o)}),e(document).mouseup(function(o){F&&J(o)})}catch(o){Sentry.captureException(o)}}(jQuery);